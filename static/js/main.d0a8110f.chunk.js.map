{"version":3,"sources":["components/Header/Header.module.css","components/CharacterItem/CharacterItem.module.css","components/MainPage/MainPage.module.css","components/FavoriteCharacters/FavoriteCharacters.module.css","components/MainPage/CharactersSearchForm.module.css","redux/character-reducer.js","components/CharacterItem/CharacterItem.jsx","components/FavoriteCharacters/FavoriteCharacters.jsx","components/FavoriteCharacters/FavoriteCharactersContainer.jsx","components/Header/Header.jsx","components/MainPage/CharactersSearchForm.jsx","components/MainPage/MainPage.jsx","components/MainPage/MainPageAPIComponent.jsx","components/MainPage/MainPageContainer.jsx","App.js","reportWebVitals.js","redux/redux-store.js","index.js"],"names":["module","exports","ADD_TO_FAVORITE","DELETE_FROM_FAVORITE","SET_CHARACTERS","SET_FAVORITE_CHARACTERS","SET_CURRNET_PAGE","SET_TOTAL_CHARACTERS_COUNT","SET_FILTER","initialState","characters","favoriteCharacters","pageSize","totalCharactersCount","currentPage","filter","term","addToFavoriteActionCreator","character","imgUrl","isFavorite","type","deleteFromFavoriteActionCreator","setFavoriteCharactersActionCreator","characterReducer","state","action","name","stateCopy","CharacterItem","props","className","styles","character_card","character_img","src","alt","character_info","favButton","onClick","addToFavorite","FavoriteCharacters","localStorageFef","localStorage","getItem","localStorageFefOBJ","JSON","parse","this","setFavCharacters","favoriteCharactersElements","map","card","deleteFromFavorite","buttonContainer","clear","character_list","React","Component","FavoriteCharactersContainer","connect","dispatch","Header","header","menu","exact","to","menuLink","activeClassName","activeLink","сharactersSearchFormValidate","values","CharactersSearchForm","inputForm","initialValues","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","placeholder","disabled","MainPage","pagesCount","Math","ceil","pages","i","push","pagination","p","active","onPageChanged","MainPageAPIComponent","pageNumber","setCurrentPage","axios","get","then","response","modResponse","newResponse","setCharacters","data","results","setFilter","lastStr","url","slice","replace","charactersInPage","length","getUrlCharacter","setTotalCharactersCount","count","prevProps","fav","setItem","stringify","getCharacters","MainPageContainer","setCharactersActionCreator","setCurrentPageActionCreator","setTotalCharactersCountActionCreator","setFilterActionCreator","App","basename","process","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d0a8110f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1lhMN\",\"menu\":\"Header_menu__hs1d3\",\"menuLink\":\"Header_menuLink__1xUdx\",\"activeLink\":\"Header_activeLink__2l0IM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"character_card\":\"CharacterItem_character_card__1O1BC\",\"character_img\":\"CharacterItem_character_img__3OcFf\",\"character_info\":\"CharacterItem_character_info__3Y7S4\",\"favButton\":\"CharacterItem_favButton__1gs4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"character_list\":\"MainPage_character_list__3lK4F\",\"pagination\":\"MainPage_pagination__YZHOH\",\"active\":\"MainPage_active__2Mnqa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"character_list\":\"FavoriteCharacters_character_list__19krI\",\"character_card\":\"FavoriteCharacters_character_card__WIUYE\",\"character_img\":\"FavoriteCharacters_character_img__1JzHv\",\"character_info\":\"FavoriteCharacters_character_info__1EGCW\",\"buttonContainer\":\"FavoriteCharacters_buttonContainer__1r3WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputForm\":\"CharactersSearchForm_inputForm__1Chi3\"};","const ADD_TO_FAVORITE = 'ADD-TO-FAVORITE';\r\nconst DELETE_FROM_FAVORITE = 'DELETE-FROM-FAVORITE';\r\nconst SET_CHARACTERS = 'SET-CHARACTERS';\r\nconst SET_FAVORITE_CHARACTERS = 'SET-FAVORITE-CHARACTERS';\r\nconst SET_CURRNET_PAGE = 'SET-CURRNET-PAGE';\r\nconst SET_TOTAL_CHARACTERS_COUNT = 'SET_TOTAL_CHARACTERS_COUNT';\r\nconst SET_FILTER = 'SET-FILTER';\r\n\r\nlet initialState = {\r\n    characters: [],\r\n    favoriteCharacters: [\r\n        // { 'name': 'luke', favorite: true },\r\n    ],\r\n    pageSize: 10,\r\n    totalCharactersCount: 0,\r\n    currentPage: 1,\r\n    filter: {\r\n        term: ''\r\n    }\r\n}\r\n\r\nconst characterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_TO_FAVORITE: {\r\n            return {...state, favoriteCharacters: [...state.favoriteCharacters, {name: action.character, imgUrl: action.imgUrl, isFavorite: true}]}\r\n        }\r\n        case DELETE_FROM_FAVORITE: {\r\n            let stateCopy = { ...state };\r\n            stateCopy.favoriteCharacters = [...state.favoriteCharacters]\r\n            // stateCopy.favoriteCharacters.pop();\r\n            stateCopy.favoriteCharacters = [];\r\n            return stateCopy;\r\n        }\r\n        case SET_CHARACTERS:\r\n            return { ...state, characters: action.characters, term: action.term }\r\n        case SET_FAVORITE_CHARACTERS:\r\n            return { ...state, favoriteCharacters: action.favoriteCharacters, term: action.term }\r\n        case SET_CURRNET_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n        case SET_TOTAL_CHARACTERS_COUNT:\r\n            return { ...state, totalCharactersCount: action.totalCharactersCount }\r\n        case SET_FILTER: {\r\n            return {...state, filter: {term: action.filter.term}}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addToFavoriteActionCreator = (character, imgUrl, isFavorite) => ({ type: ADD_TO_FAVORITE, character, imgUrl, isFavorite });\r\nexport const deleteFromFavoriteActionCreator = () => ({ type: DELETE_FROM_FAVORITE });\r\nexport const setCharactersActionCreator = (characters) => ({ type: SET_CHARACTERS, characters });\r\nexport const setFavoriteCharactersActionCreator = (favoriteCharacters) => ({ type: SET_FAVORITE_CHARACTERS, favoriteCharacters });\r\nexport const setCurrentPageActionCreator = (currentPage) => ({ type: SET_CURRNET_PAGE, currentPage });\r\nexport const setFilterActionCreator = (filter) => ({ type: SET_FILTER, filter });\r\nexport const setTotalCharactersCountActionCreator = (totalCharactersCount) => ({ type: SET_TOTAL_CHARACTERS_COUNT, totalCharactersCount });\r\n\r\n\r\nexport default characterReducer;","import styles from './CharacterItem.module.css';\r\n\r\nconst CharacterItem = (props) => {\r\n    \r\n    return (\r\n        <div className={styles.character_card}>\r\n            <div>\r\n                <img className={styles.character_img} src={props.imgUrl} alt='character'/>\r\n            </div>\r\n            <div className={styles.character_info}>\r\n                <div>\r\n                    <span>{props.name}</span>\r\n                </div>\r\n                <div className={styles.favButton}>\r\n                    {props.isFavorite ?\r\n                    //     <button onClick={() => { props.deleteFromFavorite() }}>\r\n                    //         Х\r\n                    // </button> \r\n                    <div></div>:\r\n                    <button type='submit'onClick={() => {props.addToFavorite(props.name, props.imgUrl, props.isFavorite)}}>\r\n                            ❤\r\n                    </button>\r\n\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CharacterItem;","import CharacterItem from '../CharacterItem/CharacterItem';\r\nimport styles from './FavoriteCharacters.module.css';\r\nimport React from 'react';\r\n\r\nclass FavoriteCharacters extends React.Component {\r\n    componentDidMount() {\r\n        let localStorageFef = localStorage.getItem('favorite character');\r\n        let localStorageFefOBJ = JSON.parse(localStorageFef);\r\n        if (localStorageFefOBJ) {\r\n            const newState = { ...this.props, favoriteCharacters: localStorageFefOBJ };\r\n            newState.setFavCharacters(localStorageFefOBJ);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let favoriteCharactersElements = this.props.favoriteCharacters\r\n        .map(card => <CharacterItem key = { card.name } name={card.name} imgUrl={card.imgUrl} isFavorite={card.isFavorite} deleteFromFavorite={this.props.deleteFromFavorite} />);\r\n\r\n        return (\r\n            <div>\r\n            <h1>Мои любимые персы</h1>\r\n            <div className={styles.buttonContainer}>\r\n                <button onClick={() => {\r\n                    this.props.deleteFromFavorite();\r\n                    localStorage.clear();\r\n                    debugger }}>\r\n                    Удалить всех\r\n                </button>\r\n            </div>\r\n\r\n            <div className={styles.character_list}>\r\n                {favoriteCharactersElements}\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\nexport default FavoriteCharacters;","import { addToFavoriteActionCreator, deleteFromFavoriteActionCreator, setFavoriteCharactersActionCreator } from '../../redux/character-reducer';\r\nimport { connect } from 'react-redux';\r\nimport FavoriteCharacters from './FavoriteCharacters';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        favoriteCharacters: state.favoriteCharacters.favoriteCharacters\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addToFavorite: () => {\r\n            dispatch(addToFavoriteActionCreator())\r\n        } ,\r\n        deleteFromFavorite: () => {\r\n            dispatch(deleteFromFavoriteActionCreator())\r\n        },\r\n        setFavCharacters: (favoriteCharacters) => {\r\n            dispatch(setFavoriteCharactersActionCreator(favoriteCharacters))\r\n        }\r\n    }\r\n}\r\n\r\nconst FavoriteCharactersContainer = connect(mapStateToProps, mapDispatchToProps) (FavoriteCharacters);\r\n\r\nexport default FavoriteCharactersContainer;","import { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.css';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <ul className={styles.menu}>\r\n                {/* <li><a href=\"/main\" className={styles.menuLink}>Главная</a></li> */}\r\n                <li><NavLink exact to=\"/\" className={styles.menuLink} activeClassName={styles.activeLink}>Главная</NavLink></li>\r\n                <li><NavLink to=\"/favorites\" className={styles.menuLink} activeClassName={styles.activeLink}>Любимые герои</NavLink></li> \r\n            </ul>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { Formik, Form, Field } from 'formik';\r\nimport styles from './CharactersSearchForm.module.css';\r\n\r\nconst сharactersSearchFormValidate = values => {\r\n    const errors = {};\r\n    return errors;\r\n  }\r\n\r\nconst CharactersSearchForm = (props) => {\r\n\r\n  const submit = (values, { setSubmitting }) => {\r\n    props.onFilterChanged(values);\r\n    setSubmitting(false);\r\n  }\r\n\r\n  return <div className={styles.inputForm}>\r\n\r\n    <Formik \r\n      initialValues={{ term: '' }}\r\n      validate={сharactersSearchFormValidate}\r\n      onSubmit={submit}\r\n    >\r\n      {({ isSubmitting }) => (\r\n        <Form>\r\n          <Field type=\"text\" name=\"term\" placeholder='Найти персонажа'/>\r\n          <button type=\"submit\" disabled={isSubmitting}>\r\n            Поиск\r\n           </button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n\r\n  </div>\r\n}\r\n\r\nexport default CharactersSearchForm;","import styles from './MainPage.module.css';\r\nimport CharacterItem from '../CharacterItem/CharacterItem';\r\nimport CharactersSearchForm from './CharactersSearchForm';\r\n\r\nconst MainPage = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalCharactersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n\r\n        <h1>Персонажи Звездных Войн</h1>\r\n        <CharactersSearchForm onFilterChanged={props.onFilterChanged} />\r\n        <div className={styles.pagination}>\r\n            {pages.map(p => {\r\n                // return <button className={props.currentPage === p && styles.active}\r\n                return <button key={ p } className={props.currentPage === p ? styles.active : ''}\r\n                    onClick={() => { props.onPageChanged(p) }}>{p}</button>\r\n            })}\r\n        </div>\r\n\r\n        <div className={styles.character_list}>\r\n            {/* {this.charactersElements} */}\r\n            {   props.characters.map(card => <CharacterItem key = { card.name } name={card.name} imgUrl={card.imgUrl} addToFavorite={props.addToFavorite}\r\n            isFavorite={props.isFavorite}/>)}\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default MainPage;","import axios from 'axios';\r\nimport React from 'react';\r\nimport MainPage from './MainPage';\r\n\r\n\r\nclass MainPageAPIComponent extends React.Component {\r\n\r\n    getUrlCharacter(response, i) {\r\n        let str = response.data.results[i].url;\r\n        let re = 'http://swapi.dev/api/people/';\r\n        let midStr = str.slice(0, -1);\r\n        let lastStr = midStr.replace(re, 'https://starwars-visualguide.com/assets/img/characters/');\r\n        let newStr = `${lastStr}.jpg`;\r\n        return newStr;\r\n    }\r\n\r\n    newResponse(response) {\r\n        let newResponse = { ...response }\r\n        let charactersInPage = newResponse.data.results.length\r\n        for (let i = 0; i < charactersInPage; i++) {\r\n            let imgUrl = this.getUrlCharacter(newResponse, i);\r\n            newResponse.data.results[i].imgUrl = imgUrl;\r\n            newResponse.data.results[i].isFavorite = false;\r\n        }\r\n        return newResponse;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.characters.length === 0) {\r\n            axios.get(`https://swapi.dev/api/people/?search=${this.props.term}&page=${this.props.currentPage}&count=${this.props.pageSize}`)\r\n                .then(response => {\r\n                    let modResponse = this.newResponse(response);\r\n                    let localStorageFef = localStorage.getItem('favorite character');\r\n                    let localStorageFefOBJ = JSON.parse(localStorageFef);\r\n                    // if (localStorageFefOBJ.length > 0) {\r\n                    if (localStorageFefOBJ) {\r\n                        // this.props = {...this.props,  favoriteCharacters: localStorageFefOBJ};\r\n                        this.props.setFavCharacters(localStorageFefOBJ)\r\n                    }\r\n                    this.props.setCharacters(modResponse.data.results);\r\n                    this.props.setTotalCharactersCount(response.data.count);\r\n\r\n                })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        let fav  = this.props;\r\n        localStorage.setItem('favorite character', JSON.stringify((fav.favoriteCharacters)));\r\n        let localStorageFef= localStorage.getItem('favorite character');\r\n        let localStorageFefOBJ = JSON.parse(localStorageFef);\r\n        // if (localStorageFefOBJ.length > 0) {\r\n        if (localStorageFefOBJ) {\r\n            // this.props = {...this.props,  favoriteCharacters: localStorageFefOBJ};\r\n            const newState = {...this.props,  favoriteCharacters: localStorageFefOBJ};\r\n            return newState;\r\n        }\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        axios.get(`https://swapi.dev/api/people/?page=${pageNumber}&count=${this.props.pageSize}`)\r\n            .then(response => {\r\n                let modResponse = this.newResponse(response);\r\n                this.props.setCharacters(modResponse.data.results, '');\r\n            })\r\n    }\r\n\r\n    onFilterChanged = (filter) => {\r\n        this.props.setFilter(filter);\r\n        axios.get(`https://swapi.dev/api/people/?search=${this.props.term}`)\r\n            .then(response => {\r\n                let modResponse = this.newResponse(response);\r\n                this.props.setCharacters(modResponse.data.results);\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MainPage\r\n                onPageChanged={this.onPageChanged}\r\n                getCharacters={this.props.getCharacters}\r\n                characters={this.props.characters}\r\n                currentPage={this.props.currentPage}\r\n                totalCharactersCount={this.props.totalCharactersCount}\r\n                pageSize={this.props.pageSize}\r\n                addToFavorite={this.props.addToFavorite}\r\n                deleteFromFavorite={this.props.deleteFromFavorite}\r\n                onFilterChanged={this.onFilterChanged}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default MainPageAPIComponent;","import { connect } from 'react-redux';\r\nimport { addToFavoriteActionCreator, deleteFromFavoriteActionCreator, setCharactersActionCreator, setCurrentPageActionCreator, setTotalCharactersCountActionCreator, setFilterActionCreator, setFavoriteCharactersActionCreator } from '../../redux/character-reducer';\r\nimport MainPageAPIComponent from './MainPageAPIComponent';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        characters: state.favoriteCharacters.characters,\r\n        favoriteCharacters: state.favoriteCharacters.favoriteCharacters,\r\n        pageSize: state.favoriteCharacters.pageSize,\r\n        totalCharactersCount: state.favoriteCharacters.totalCharactersCount,\r\n        currentPage: state.favoriteCharacters.currentPage,\r\n        isFavorite: state.favoriteCharacters.isFavorite,\r\n        term: state.favoriteCharacters.filter.term\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addToFavorite: (name, imgUrl) => {\r\n            dispatch(addToFavoriteActionCreator(name, imgUrl))\r\n        } ,\r\n        deleteFromFavorite: () => {\r\n            dispatch(deleteFromFavoriteActionCreator())\r\n        },\r\n        setCharacters: (characters) => {\r\n            dispatch(setCharactersActionCreator(characters))\r\n        },\r\n        setFavCharacters: (favoriteCharacters) => {\r\n            dispatch(setFavoriteCharactersActionCreator(favoriteCharacters))\r\n        },\r\n        setCurrentPage: (currentPage) => {\r\n            dispatch(setCurrentPageActionCreator(currentPage))\r\n        },\r\n        setTotalCharactersCount: (totalCharactersCount) => {\r\n            dispatch(setTotalCharactersCountActionCreator(totalCharactersCount))\r\n        },\r\n        setFilter: (filter) => {\r\n            dispatch(setFilterActionCreator(filter))\r\n        }\r\n    }\r\n}\r\n\r\nconst MainPageContainer = connect(mapStateToProps, mapDispatchToProps) (MainPageAPIComponent);\r\n\r\nexport default MainPageContainer;","import { BrowserRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport FavoriteCharactersContainer from './components/FavoriteCharacters/FavoriteCharactersContainer';\nimport Header from './components/Header/Header'\nimport MainPageContainer from './components/MainPage/MainPageContainer';\n\nconst App = (props) => {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL} >\n      <div className=\"App\">\n        <Header />\n        <div className=\"content-wrapper\">\n          <Route exact path='/'\n              render={() => <MainPageContainer />} />\n\n          <Route exact path='/favorites'\n            render={() => <FavoriteCharactersContainer />} />\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers, createStore } from \"redux\";\r\nimport characterReducer from \"./character-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    favoriteCharacters: characterReducer\r\n})\r\n\r\nlet store = createStore(reducers);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}