(this["webpackJsonptest-swapi"]=this["webpackJsonptest-swapi"]||[]).push([[0],{10:function(e,t,a){e.exports={header:"Header_header__1lhMN",menu:"Header_menu__hs1d3",menuLink:"Header_menuLink__1xUdx",activeLink:"Header_activeLink__2l0IM"}},16:function(e,t,a){e.exports={character_card:"CharacterItem_character_card__1O1BC",character_img:"CharacterItem_character_img__3OcFf",character_info:"CharacterItem_character_info__3Y7S4"}},17:function(e,t,a){e.exports={character_list:"MainPage_character_list__3lK4F",pagination:"MainPage_pagination__YZHOH",active:"MainPage_active__2Mnqa"}},34:function(e,t,a){e.exports={character_list:"FavoriteCharacters_character_list__19krI",character_card:"FavoriteCharacters_character_card__WIUYE",character_img:"FavoriteCharacters_character_img__1JzHv",character_info:"FavoriteCharacters_character_info__1EGCW"}},43:function(e,t,a){},44:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(15),i=a.n(n),s=(a(43),a(14)),o=a(3),h=(a(44),a(16)),u=a.n(h),l=a(1),d=function(e){return Object(l.jsxs)("div",{className:u.a.character_card,children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:u.a.character_img,src:e.imgUrl})}),Object(l.jsxs)("div",{className:u.a.character_info,children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:e.name})}),Object(l.jsx)("div",{children:e.isFavorite?Object(l.jsx)("button",{onClick:function(){e.deleteFromFavorite()},children:"\u0425"}):Object(l.jsx)("button",{onClick:function(){e.addToFavorite(e.name,e.imgUrl,e.isFavorite)},children:"\u2764"})})]})]})},p=a(24),v=a(4),j="ADD-TO-FAVORITE",f="DELETE-FROM-FAVORITE",g="SET-CHARACTERS",C="SET-CURRNET-PAGE",b="SET_TOTAL_CHARACTERS_COUNT",m={characters:[],favoriteCharacters:[],pageSize:10,totalCharactersCount:0,currentPage:1},O=function(e,t,a){return{type:j,character:e,imgUrl:t,isFavorite:a}},_=function(){return{type:f}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(v.a)(Object(v.a)({},e),{},{favoriteCharacters:[].concat(Object(p.a)(e.favoriteCharacters),[{name:t.character,imgUrl:t.imgUrl,isFavorite:!0}])});case f:var a=Object(v.a)({},e);return a.favoriteCharacters=Object(p.a)(e.favoriteCharacters),a.favoriteCharacters.pop(),a;case g:return Object(v.a)(Object(v.a)({},e),{},{characters:t.characters});case C:return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case b:return Object(v.a)(Object(v.a)({},e),{},{totalCharactersCount:t.totalCharactersCount});default:return e}},x=a(12),T=a(34),P=a.n(T),N=function(e){var t=e.favoriteCharacters.map((function(t){return Object(l.jsx)(d,{name:t.name,imgUrl:t.imgUrl,isFavorite:t.isFavorite,deleteFromFavorite:e.deleteFromFavorite})}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"\u041c\u043e\u0438 \u043b\u044e\u0431\u0438\u043c\u044b\u0435 \u043f\u0435\u0440\u0441\u044b"}),Object(l.jsx)("div",{className:P.a.character_list,children:t})]})},k=Object(x.b)((function(e){return{favoriteCharacters:e.favoriteCharacters.favoriteCharacters}}),(function(e){return{addToFavorite:function(){e(O())},deleteFromFavorite:function(){e(_())}}}))(N),E=a(10),S=a.n(E),U=function(){return Object(l.jsx)("header",{className:S.a.header,children:Object(l.jsxs)("ul",{className:S.a.menu,children:[Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{exact:!0,to:"/",className:S.a.menuLink,activeClassName:S.a.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/favorites",className:S.a.menuLink,activeClassName:S.a.activeLink,children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u0433\u0435\u0440\u043e\u0438"})})]})})},w=a(35),L=a(36),y=a(38),A=a(37),I=a(22),z=a.n(I),H=a(17),M=a.n(H),R=function(e){for(var t=Math.ceil(e.totalCharactersCount/e.pageSize),a=[],r=1;r<=t;r++)a.push(r);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438 \u0417\u0432\u0435\u0437\u0434\u043d\u044b\u0445 \u0412\u043e\u0439\u043d"}),Object(l.jsx)("div",{className:M.a.pagination,children:a.map((function(t){return Object(l.jsx)("a",{className:e.currentPage===t&&M.a.active,onClick:function(){e.onPageChanged(t)},children:t})}))}),Object(l.jsx)("div",{className:M.a.character_list,children:e.characters.map((function(t){return Object(l.jsx)(d,{name:t.name,imgUrl:t.imgUrl,addToFavorite:e.addToFavorite,isFavorite:e.isFavorite})}))})]})},D=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(w.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).onPageChanged=function(t){e.props.setCurrentPage(t),z.a.get("https://swapi.dev/api/people/?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){var a=function(e){var a=t.data.results[e].url.slice(0,-1).replace("http://swapi.dev/api/people/","https://starwars-visualguide.com/assets/img/characters/");return"".concat(a,".jpg")},r=function(){for(var e=Object(v.a)({},t),r=e.data.results.length,c=0;c<r;c++){var n=a(c);e.data.results[c].imgUrl=n,e.data.results[c].isFavorite=!1}return e}();e.props.setCharacters(r.data.results)}))},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this;0===this.props.characters.length&&z.a.get("https://swapi.dev/api/people/?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){var a=function(e){var a=t.data.results[e].url.slice(0,-1).replace("http://swapi.dev/api/people/","https://starwars-visualguide.com/assets/img/characters/");return"".concat(a,".jpg")},r=function(){for(var e=Object(v.a)({},t),r=e.data.results.length,c=0;c<r;c++){var n=a(c);e.data.results[c].imgUrl=n,e.data.results[c].isFavorite=!1}return e}();e.props.setCharacters(r.data.results),e.props.setTotalCharactersCount(t.data.count)}))}},{key:"render",value:function(){return Object(l.jsx)(R,{onPageChanged:this.onPageChanged,getCharacters:this.props.getCharacters,characters:this.props.characters,currentPage:this.props.currentPage,totalCharactersCount:this.props.totalCharactersCount,pageSize:this.props.pageSize,addToFavorite:this.props.addToFavorite,deleteFromFavorite:this.props.deleteFromFavorite})}}]),a}(c.a.Component),B=Object(x.b)((function(e){return{characters:e.favoriteCharacters.characters,pageSize:e.favoriteCharacters.pageSize,totalCharactersCount:e.favoriteCharacters.totalCharactersCount,currentPage:e.favoriteCharacters.currentPage,isFavorite:e.favoriteCharacters.isFavorite}}),(function(e){return{addToFavorite:function(t,a){e(O(t,a))},deleteFromFavorite:function(){e(_())},setCharacters:function(t){e(function(e){return{type:g,characters:e}}(t))},setCurrentPage:function(t){e(function(e){return{type:C,currentPage:e}}(t))},setTotalCharactersCount:function(t){e(function(e){return{type:b,totalCharactersCount:e}}(t))}}}))(D),J=function(e){return Object(l.jsx)(s.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(U,{}),Object(l.jsxs)("div",{className:"content-wrapper",children:[Object(l.jsx)(o.a,{exact:!0,path:"/",render:function(){return Object(l.jsx)(B,{})}}),Object(l.jsx)(o.a,{exact:!0,path:"/favorites",render:function(){return Object(l.jsx)(k,{})}})]})]})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),c(e),n(e),i(e)}))},G=a(23),V=Object(G.a)({favoriteCharacters:F}),W=Object(G.b)(V);i.a.render(Object(l.jsx)(x.a,{store:W,children:Object(l.jsx)(J,{})}),document.getElementById("root")),Y()}},[[73,1,2]]]);
//# sourceMappingURL=main.9cc285c9.chunk.js.map