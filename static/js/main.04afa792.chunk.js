(this["webpackJsonptest-swapi"]=this["webpackJsonptest-swapi"]||[]).push([[0],{15:function(t,e,a){t.exports={header:"Header_header__1lhMN",menu:"Header_menu__hs1d3",menuLink:"Header_menuLink__1xUdx",activeLink:"Header_activeLink__2l0IM"}},19:function(t,e,a){t.exports={character_card:"CharacterItem_character_card__1O1BC",character_img:"CharacterItem_character_img__3OcFf",character_info:"CharacterItem_character_info__3Y7S4",favButton:"CharacterItem_favButton__1gs4f"}},24:function(t,e,a){t.exports={character_list:"MainPage_character_list__3lK4F",pagination:"MainPage_pagination__YZHOH",active:"MainPage_active__2Mnqa"}},28:function(t,e,a){t.exports={character_list:"FavoriteCharacters_character_list__19krI",character_card:"FavoriteCharacters_character_card__WIUYE",character_img:"FavoriteCharacters_character_img__1JzHv",character_info:"FavoriteCharacters_character_info__1EGCW",buttonContainer:"FavoriteCharacters_buttonContainer__1r3WS"}},47:function(t,e,a){t.exports={inputForm:"CharactersSearchForm_inputForm__1Chi3"}},54:function(t,e,a){},55:function(t,e,a){},83:function(t,e,a){"use strict";a.r(e);var r=a(0),c=a.n(r),n=a(20),i=a.n(n),s=(a(54),a(18)),o=a(3),u=(a(55),a(19)),h=a.n(u),l=a(1),d=function(t){return Object(l.jsxs)("div",{className:h.a.character_card,children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:h.a.character_img,src:t.imgUrl})}),Object(l.jsxs)("div",{className:h.a.character_info,children:[Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:t.name})}),Object(l.jsx)("div",{className:h.a.favButton,children:t.isFavorite?Object(l.jsx)("div",{}):Object(l.jsx)("button",{type:"submit",onClick:function(){t.addToFavorite(t.name,t.imgUrl,t.isFavorite)},children:"\u2764"})})]})]})},p=a(32),v=a(5),j="ADD-TO-FAVORITE",f="DELETE-FROM-FAVORITE",m="SET-CHARACTERS",b="SET-CURRNET-PAGE",g="SET_TOTAL_CHARACTERS_COUNT",C="SET-FILTER",O={characters:[],favoriteCharacters:[],pageSize:10,totalCharactersCount:0,currentPage:1,filter:{term:""}},_=function(t,e,a){return{type:j,character:t,imgUrl:e,isFavorite:a}},F=function(){return{type:f}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(v.a)(Object(v.a)({},t),{},{favoriteCharacters:[].concat(Object(p.a)(t.favoriteCharacters),[{name:e.character,imgUrl:e.imgUrl,isFavorite:!0}])});case f:var a=Object(v.a)({},t);return a.favoriteCharacters=Object(p.a)(t.favoriteCharacters),a.favoriteCharacters=[],a;case m:return Object(v.a)(Object(v.a)({},t),{},{characters:e.characters,term:e.term});case b:return Object(v.a)(Object(v.a)({},t),{},{currentPage:e.currentPage});case g:return Object(v.a)(Object(v.a)({},t),{},{totalCharactersCount:e.totalCharactersCount});case C:return Object(v.a)(Object(v.a)({},t),{},{filter:{term:e.filter.term}});default:return t}},T=a(17),P=a(28),N=a.n(P),S=function(t){var e=t.favoriteCharacters.map((function(e){return Object(l.jsx)(d,{name:e.name,imgUrl:e.imgUrl,isFavorite:e.isFavorite,deleteFromFavorite:t.deleteFromFavorite})}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"\u041c\u043e\u0438 \u043b\u044e\u0431\u0438\u043c\u044b\u0435 \u043f\u0435\u0440\u0441\u044b"}),Object(l.jsx)("div",{className:N.a.buttonContainer,children:Object(l.jsx)("button",{onClick:function(){t.deleteFromFavorite()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445"})}),Object(l.jsx)("div",{className:N.a.character_list,children:e})]})},w=Object(T.b)((function(t){return{favoriteCharacters:t.favoriteCharacters.favoriteCharacters}}),(function(t){return{addToFavorite:function(){t(_())},deleteFromFavorite:function(){t(F())}}}))(S),E=a(15),k=a.n(E),U=function(){return Object(l.jsx)("header",{className:k.a.header,children:Object(l.jsxs)("ul",{className:k.a.menu,children:[Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{exact:!0,to:"/",className:k.a.menuLink,activeClassName:k.a.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/favorites",className:k.a.menuLink,activeClassName:k.a.activeLink,children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u0433\u0435\u0440\u043e\u0438"})})]})})},y=a(43),L=a(44),I=a(49),A=a(48),R=a(23),z=a.n(R),H=a(24),M=a.n(H),B=a(25),D=a(47),J=a.n(D),V=function(t){return{}},W=function(t){return Object(l.jsx)("div",{className:J.a.inputForm,children:Object(l.jsx)(B.c,{initialValues:{term:""},validate:V,onSubmit:function(e,a){var r=a.setSubmitting;t.onFilterChanged(e),r(!1)},children:function(t){var e=t.isSubmitting;return Object(l.jsxs)(B.b,{children:[Object(l.jsx)(B.a,{type:"text",name:"term",placeholder:"\u041d\u0430\u0439\u0442\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"}),Object(l.jsx)("button",{type:"submit",disabled:e,children:"\u041f\u043e\u0438\u0441\u043a"})]})}})})},Y=function(t){for(var e=Math.ceil(t.totalCharactersCount/t.pageSize),a=[],r=1;r<=e;r++)a.push(r);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438 \u0417\u0432\u0435\u0437\u0434\u043d\u044b\u0445 \u0412\u043e\u0439\u043d"}),Object(l.jsx)(W,{onFilterChanged:t.onFilterChanged}),Object(l.jsx)("div",{className:M.a.pagination,children:a.map((function(e){return Object(l.jsx)("a",{className:t.currentPage===e&&M.a.active,onClick:function(){t.onPageChanged(e)},children:e})}))}),Object(l.jsx)("div",{className:M.a.character_list,children:t.characters.map((function(e){return Object(l.jsx)(d,{name:e.name,imgUrl:e.imgUrl,addToFavorite:t.addToFavorite,isFavorite:t.isFavorite})}))})]})},G=function(t){Object(I.a)(a,t);var e=Object(A.a)(a);function a(){var t;Object(y.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).onPageChanged=function(e){t.props.setCurrentPage(e),z.a.get("https://swapi.dev/api/people/?page=".concat(e,"&count=").concat(t.props.pageSize)).then((function(e){var a=function(t){var a=e.data.results[t].url.slice(0,-1).replace("http://swapi.dev/api/people/","https://starwars-visualguide.com/assets/img/characters/");return"".concat(a,".jpg")},r=function(){for(var t=Object(v.a)({},e),r=t.data.results.length,c=0;c<r;c++){var n=a(c);t.data.results[c].imgUrl=n,t.data.results[c].isFavorite=!1}return t}();t.props.setCharacters(r.data.results,"")}))},t.onFilterChanged=function(e){t.props.setFilter(e),z.a.get("https://swapi.dev/api/people/?search=".concat(t.props.term)).then((function(e){var a=function(t){var a=e.data.results[t].url.slice(0,-1).replace("http://swapi.dev/api/people/","https://starwars-visualguide.com/assets/img/characters/");return"".concat(a,".jpg")},r=function(){for(var t=Object(v.a)({},e),r=t.data.results.length,c=0;c<r;c++){var n=a(c);t.data.results[c].imgUrl=n,t.data.results[c].isFavorite=!1}return t}();t.props.setCharacters(r.data.results)}))},t}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var t=this;0===this.props.characters.length&&z.a.get("https://swapi.dev/api/people/?search=".concat(this.props.term,"&page=").concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(e){var a=function(t){var a=e.data.results[t].url.slice(0,-1).replace("http://swapi.dev/api/people/","https://starwars-visualguide.com/assets/img/characters/");return"".concat(a,".jpg")},r=function(){for(var t=Object(v.a)({},e),r=t.data.results.length,c=0;c<r;c++){var n=a(c);t.data.results[c].imgUrl=n,t.data.results[c].isFavorite=!1}return t}();t.props.setCharacters(r.data.results),t.props.setTotalCharactersCount(e.data.count)}))}},{key:"render",value:function(){return Object(l.jsx)(Y,{onPageChanged:this.onPageChanged,getCharacters:this.props.getCharacters,characters:this.props.characters,currentPage:this.props.currentPage,totalCharactersCount:this.props.totalCharactersCount,pageSize:this.props.pageSize,addToFavorite:this.props.addToFavorite,deleteFromFavorite:this.props.deleteFromFavorite,onFilterChanged:this.onFilterChanged})}}]),a}(c.a.Component),q=Object(T.b)((function(t){return{characters:t.favoriteCharacters.characters,pageSize:t.favoriteCharacters.pageSize,totalCharactersCount:t.favoriteCharacters.totalCharactersCount,currentPage:t.favoriteCharacters.currentPage,isFavorite:t.favoriteCharacters.isFavorite,term:t.favoriteCharacters.filter.term}}),(function(t){return{addToFavorite:function(e,a){t(_(e,a))},deleteFromFavorite:function(){t(F())},setCharacters:function(e){t(function(t){return{type:m,characters:t}}(e))},setCurrentPage:function(e){t(function(t){return{type:b,currentPage:t}}(e))},setTotalCharactersCount:function(e){t(function(t){return{type:g,totalCharactersCount:t}}(e))},setFilter:function(e){t(function(t){return{type:C,filter:t}}(e))}}}))(G),K=function(t){return Object(l.jsx)(s.a,{basename:"/test-swapi",children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(U,{}),Object(l.jsxs)("div",{className:"content-wrapper",children:[Object(l.jsx)(o.a,{exact:!0,path:"/",render:function(){return Object(l.jsx)(q,{})}}),Object(l.jsx)(o.a,{exact:!0,path:"/favorites",render:function(){return Object(l.jsx)(w,{})}})]})]})})},Z=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(e){var a=e.getCLS,r=e.getFID,c=e.getFCP,n=e.getLCP,i=e.getTTFB;a(t),r(t),c(t),n(t),i(t)}))},Q=a(31),X=Object(Q.a)({favoriteCharacters:x}),$=Object(Q.b)(X);i.a.render(Object(l.jsx)(T.a,{store:$,children:Object(l.jsx)(K,{})}),document.getElementById("root")),Z()}},[[83,1,2]]]);
//# sourceMappingURL=main.04afa792.chunk.js.map